### 什么是JWT?

WT令牌全称JSON WebToken，是一个开放的行业标准(RFC 7519)，它定义了一种简单的、自包含的协 议格式，用于在通信双方传递json对象，传递的信息经过数字签名，可以被验证和信任。
JWT可以使用 HMAC算法或使用RSA算法的公私钥来签名，方式被篡改。

在OAuth中使用JWT，那令牌本身就包含了客户的详细信息，这样资源服务不用依赖授权服务就可以完 成令牌解析。

### JWT令牌的优点
   基于json，非常方便解析
可以在令牌中自定义丰富的内容，易扩展。 通过非对称加密算法及数字签名技术，JWT防止篡改，安全性高。 资源服务使用JWT可以不依赖于认证服务，自己完成解析。
**但是也有一个很大的缺点，就是JWT令牌较长，占据的存储空间比较大。**

### JWT令牌结构
JWT令牌由三个部分组成，每部分中间使用点 (.) 分隔，例如 Header.Payload.Signature
**Header**
头部包括令牌的类型(JWT)以及使用的哈希算法(如HMAC SHA256 RSA)。例如
将上面的内容使用Base64URL编码，就得到了JWT令牌的第一个部分。
`{
  "alg": "HS256",
  "typ": "JWT"
 }`
 将上面的内容使用Base64URL编码，就得到了JWT令牌的第一个部分。
 
**Payload**
第二部分是负载，内容也是一个对象，他是存放有效信息的地方，他可以存放JWT提供的现有字段，例 如 iss(签发者)，exp(过期时间戳)，sub(面向的用户)等，也可以自定义字段。此部分不建议存放敏感信 息，因为此部分可以解码还原出原始内容。
最后将这部分JSON内容使用Base64URL编码，就得到了JWT令牌的第二个部分。 

**Signature**
第三部分是签名，此部分用于防止JWT内容被篡改。 这个部分使用Base64url将前两部分进行编码，编码后使用点(.)连接组成字符串，最后使用header中声
明的签名算法进行签名。